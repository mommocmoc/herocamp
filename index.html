<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>2019 NCMN 히어로캠프</title>
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="" charset="utf-8"></script>
    <link rel="stylesheet" href="css/w3.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="node_modules/@glidejs/glide/dist/glide.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Nanum+Myeongjo" rel="stylesheet">
    <!-- <link rel="stylesheet" href="node_modules/@glidejs/glide/dist/css/glide.core.min.css">
    <link rel="stylesheet" href="node_modules/@glidejs/glide/dist/css/glide.theme.min.css"> -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="libraries/jquery.countdown.min.js"></script>

  </head>
  <body>

    <div class="js">

    <div id="firstDiv" class="w3-display-middle w3-center w3-large" style="width:100%;">
      <div class="mySlides w3-animate-opacity"></div>
      <div class="mySlides w3-animate-opacity">주의 권능의 날에</div>
      <div class="mySlides w3-animate-opacity">주의 백성이 거룩한 옷을 입고</div>
      <div class="mySlides w3-animate-opacity w3-padding">새벽 이슬 같은</div>
      <div class="mySlides w3-animate-opacity w3-padding">주의 청년들이</div>
      <div class="mySlides w3-animate-opacity w3-padding">주께 나오는도다</div>
      <div class="mySlides w3-animate-opacity w3-padding">시편 110:3</div>
    </div>
    <div class="video-container">
      <video class="myVideo" src="images/herocamp2018_low.mp4" playsinline preload="auto" controls poster="images/calling.jpeg">
      </video>
      <!-- <button onclick="getCurTime()" type="button">Get current time position</button> -->
    </div>
    <div id="firstDiv" class="w3-display-middle w3-center w3-large" style="width:100%;height:100%;">
      <div class="w3-display-container" style="width:100%">
      <a href="http://www.ncmn.kr/hero-camp/" target="_blank">
        <img class="myVideo w3-image w3-animate-opacity" src="images/calling.jpeg" alt="2019 Hero Camp로 주님의 Hero를 초청합니다.">
      </a>
      <div class="myVideo w3-display-middle" id="clock"></div>
    </div>
      <div class="myVideo w3-padding w3-animate-bottom w3-large">11월 26일 낮 12시</div>
      <div class="myVideo w3-padding w3-animate-bottom w3-large">위대한 사명에 동참할</div>
      <div class="myVideo w3-padding w3-animate-bottom w3-large">Hero Camp 5기 학생을 모집합니다.</div>
      <div class="myVideo w3-padding w3-animate-bottom w3-small">(이미지를 클릭하면 Hero Camp에 대한 소개를 볼 수 있습니다.)</div>

    </div>


<script>
//countdown
$('#clock').countdown('2018/11/26 12:00:00', function(event) {
    var $this = $(this).html(event.strftime('<div class="w3-black w3-padding w3-medium">'
      +'<div class="w3-padding">'
      + '세상울 바꿀 Hero 모집일까지'
      + '</div>'
      +'%-D일 '
      + '%H시간 '
      + '%M분 '
      + '%S초 남았습니다.'
      +'<div class="w3-padding">'
      + '기도로 함께 준비해주세요.'
      + '</div>'
      + '</div>'
    ));
  });

//slider
  var myVar;
  var slideIndex = 0;
  var timer=2500;
  var i;
  var x = document.getElementsByClassName("mySlides");
  var y = document.getElementsByClassName("myVideo");
  var heroVideo = y[0];
  var heroImage = y[1];
  var videoVolume;
  var currentVideoTime;
  var sliderDone = false;

if(sliderDone)
{

}else{
  carousel();
}
getCurTime();

//function define
  function getCurTime() {
    currentVideoTime = heroVideo.currentTime;
    //console.log(currentVideoTime);
    //console.log(sliderDone);
    if (currentVideoTime > 62) {
      heroVideo.style.display = "none";
      heroImage.style.display = "block"
      if(currentVideoTime > 65){
        finalCalling();
      }
    }
    setTimeout(getCurTime,1000);
}

function finalCalling(){
  for (var i = 2; i < y.length; i++) {
    y[i].style.display="block";
  }
}

function volumeFadeOut(){
  var fadeOutSpeed = 0.005;

  if (heroVideo.volume === 0.0) {
    heroVideo.volume = 0
    clearInterval(volumeFadeOut);
    return
  }else{
    videoVolume = heroVideo.volume;
    videoVolume -=fadeOutSpeed;
    heroVideo.volume = videoVolume.toFixed(3);
  }
  //console.log(heroVideo.volume);
  setTimeout(volumeFadeOut,500);
}

  function carousel() {
      //var i;

      //var x = document.getElementsByClassName("mySlides");
      for (i = 0; i < x.length; i++) {
        if(slideIndex<4){
        x[i].style.display = "none";
      }
    }
      for (var i = 0; i < y.length; i++) {
        y[i].style.display ="none"
      }
      slideIndex++;
      timer = timer - 225;
      if(slideIndex == 6){timer = 3000;}

      if (slideIndex > x.length) { //Video Play
        sliderDone = true;
        for (i = 0; i < x.length; i++) {
          x[i].style.display = "none";
        }
        //console.log(sliderDone);
        y[0].style.display ="block";
        y[0].play();
        return}
      x[slideIndex-1].style.display = "block";
      setTimeout(carousel, timer); // Change image every 2 seconds
  }

function myFunction(){
  myVar = setTimeout(showPage,100);
}
function showPage(){
  document.getElementById("preloader").style.display="none";
  document.getElementById("firstDiv").style.display="block";
}

</script>
  </body>
</html>
