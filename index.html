<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>2019 NCMN 히어로캠프</title>
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="" charset="utf-8"></script>
    <link rel="stylesheet" href="css/w3.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="node_modules/@glidejs/glide/dist/glide.min.js"></script>
    <link rel="stylesheet" href="node_modules/@glidejs/glide/dist/css/glide.core.min.css">
    <link rel="stylesheet" href="node_modules/@glidejs/glide/dist/css/glide.theme.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>


  </head>
  <body onload="myFunction()">

    <!-- <div class="glide w3-container" align="center">
      <div class="glide__track" data-glide-el="track">
        <ul class="glide__slides w3-animate-opacity">
      <li class="glide__slide w3-xxxlarge">0</li>
      <li class="glide__slide w3-xxxlarge">1</li>
      <li class="glide__slide w3-xxxlarge">2</li>
      <img src="images/ncmn.jpeg" alt="ncmn로고">
    </ul>
      </div>

      <div class="glide__bullets" data-glide-el="controls[nav]">
        <button class="glide__bullet" data-glide-dir="=0"></button>
        <button class="glide__bullet" data-glide-dir="=1"></button>
        <button class="glide__bullet" data-glide-dir="=2"></button>
        <button class="glide__bullet" data-glide-dir="=3"></button>
      </div>
    </div> -->

    <div class="js">
<div id="preloader"></div>
</div>
    <div id="firstDiv" class="w3-display-containe w3-center w3-display-middle w3-large">
      <div class="mySlides w3-animate-opacity"></div>
      <div class="mySlides w3-animate-opacity">주의 권능의 날에</div>
      <div class="mySlides w3-animate-opacity">주의 백성이 거룩한 옷을 입고</div>
      <div class="mySlides w3-animate-opacity">새벽 이슬 같은</div>
      <div class="mySlides w3-animate-opacity">주의 청년들이</div>
      <div class="mySlides w3-animate-opacity">주께 나오는도다</div>
      <div class="mySlides w3-animate-opacity">시편 110:3</div>
      <video class="myVideo" src="images/herocamp2018.mp4" playsinline preload="auto" controls poster="images/calling.jpeg">
      </video>
      <!-- <button onclick="getCurTime()" type="button">Get current time position</button> -->
      <img class="myVideo w3-image w3-animate-opacity" src="images/calling.jpeg" alt="2019 Hero Camp로 주님의 Hero를 초청합니다.">
      <h1 class="myVideo w3-padding w3-animate-bottom w3-large">11월 26일 낮 12시</h1>
      <h1 class="myVideo w3-padding w3-animate-bottom w3-large">Hero Camp 5기 학생을 모집합니다.</h1>
    </div>
 
<script>
  // var i;
  // var glideOptions={
  //   autoplay:2000,
  //   focusAt:'center',
  //   animationDuration:1000,
  //   animationTimingFunc:'ease-in'
  // }
  // var glide = new Glide('.glide',glideOptions);
  // glide.mount();
  // glide.on('run.after',returnIndex);
  //
  //
  // function returnIndex() {
  //   i = glide.index
  //   console.log("Hero!")
  //   console.log(i)
  //   if(i == 3){
  //
  //     glide.pause()
  //
  //   }
  // }

  var myVar;
  var slideIndex = 0;
  var timer=3000;
  var i;
  var x = document.getElementsByClassName("mySlides");
  var y = document.getElementsByClassName("myVideo");
  var heroVideo = y[0];
  var heroImage = y[1];
  var videoVolume;
  var currentVideoTime;
  var sliderDone = false;

if(sliderDone)
{

}else{
  carousel();
}
getCurTime();

  function getCurTime() {
    currentVideoTime = heroVideo.currentTime;
    //console.log(currentVideoTime);
    //console.log(sliderDone);
    if (currentVideoTime > 62) {
      heroVideo.style.display = "none";
      heroImage.style.display = "block"
      if(currentVideoTime > 72){
        volumeFadeOut();
        if(currentVideoTime >85){
          finalCalling();
        }
      }
    }
    setTimeout(getCurTime,1000);
}

function finalCalling(){
  y[2].style.display ="block";
  y[3].style.display ="block"

}

function volumeFadeOut(){
  var fadeOutSpeed = 0.005;
  videoVolume = heroVideo.volume;
  videoVolume -=fadeOutSpeed;
  heroVideo.volume = videoVolume.toFixed(3);
  if (heroVideo.volume <= 0.01) {
    heroVideo.volume = 0
    return
  }
  //console.log(heroVideo.volume);
  setTimeout(volumeFadeOut,500);
}

  function carousel() {
      //var i;

      //var x = document.getElementsByClassName("mySlides");
      for (i = 0; i < x.length; i++) {
        x[i].style.display = "none";
      }
      for (var i = 0; i < y.length; i++) {
        y[i].style.display ="none"
      }
      slideIndex++;
      timer = timer - 300;
      if(slideIndex == 6){timer = 3000;}
      if (slideIndex > x.length) {
        sliderDone = true;
        //console.log(sliderDone);
        y[0].style.display ="block";
        y[0].play();

        return}
      x[slideIndex-1].style.display = "block";
      setTimeout(carousel, timer); // Change image every 2 seconds
  }

function myFunction(){
  myVar = setTimeout(showPage,100);
}
function showPage(){
  document.getElementById("preloader").style.display="none";
  document.getElementById("firstDiv").style.display="block";
}

</script>
  </body>
</html>
